<odoo>
    <!-- Form View -->
    <record id="view_ticket_management_form" model="ir.ui.view">
        <field name="name">ticket.management.form</field>
        <field name="model">ticket.management</field>
        <field name="arch" type="xml">
            <form string="Ticket Management">
                <header>
                    <button name="action_confirm" type="object" string="Confirm" class="btn-primary"/>
                    <button name="action_generate_jpeg" string="Download JPEG Ticket" type="object" class="oe_highlight"/>
                    <button name="action_print_ticket_pdf" string="Download PDF Ticket" type="object" class="oe_secondary"/>
                    <field name="state" widget="statusbar" options="{'clickable': true}"/>
                </header>

                <sheet>
                    <group>
                        <group string="Ticket Details">
                            <field name="ticket_number"/>
                            <field name="customer_id"
                                   options="{'no_create': False, 'no_open': False}"
                                   context="{'default_mobile_no': mobile_no}"
                                   placeholder="Search or create by mobile number"/>
                            <field name="mobile_no"/>
                            <field name="no_tickets"/>
                            <field name="category"/>
                            <field name="event_id"/>
                            <field name="booking_date"/>
                            <field name="price" readonly="1"/>
                            <field name="discount" readonly="1"/>
                            <field name="total_amount" readonly="1"/>
  
                            <field name="notes" placeholder="Enter internal notes..."/>
                        </group>

                        <group string="QR Code">
                            <field name="qr_code" widget="image"
                                   class="oe_inline"
                                   style="height: 147px; object-fit:contain;"/>
                        </group>
                    </group>

                    <div class="oe_chatter">
                        <field name="message_follower_ids" widget="mail_followers"/>
                        <field name="message_ids" widget="mail_thread"/>
                    </div>
                </sheet>
            </form>
        </field>
    </record>

    <!-- Tree View -->
    <record id="view_ticket_management_tree" model="ir.ui.view">
        <field name="name">ticket.management.tree</field>
        <field name="model">ticket.management</field>
        <field name="arch" type="xml">
            <tree string="Ticket Management" class="text-center" default_order="create_date desc">
                <field name="ticket_number" optional="show"/>
                <field name="customer_id" optional="show"/>
                <field name="event_id" optional="show"/>
                <field name="mobile_no" optional="hide"/>
                <field name="booking_date" optional="show"/>
                <field name="no_tickets" optional="show"/>
                <field name="state" optional="show"/>
            </tree>
        </field>
    </record>

    <record id="custom_ticket" model="report.paperformat">
        <field name="name">Ticket Format</field>
        <field name="default">True</field>
        <field name="format">custom</field>
        <field name="page_height" eval="50.0"/> <!-- Height of the paper in mm -->
        <field name="page_width" eval="80.0"/>  <!-- Width of the paper in mm -->
        <field name="margin_top" eval="5.0"/>    <!-- Top margin in mm -->
        <field name="margin_bottom" eval="5.0"/> <!-- Bottom margin in mm -->
        <field name="margin_left" eval="5.0"/>   <!-- Left margin in mm -->
        <field name="margin_right" eval="5.0"/>  <!-- Right margin in mm -->
    </record>

    <!-- Menu Action -->
    <record id="action_ticket_management" model="ir.actions.act_window">
        <field name="name">Ticket Management</field>
        <field name="res_model">ticket.management</field>
        <field name="view_mode">tree,form</field>
        <field name="help" type="html">
            <p class="o_view_nocontent_smiling_face">
                Create a new Ticket
            </p>
        </field>
    </record>


</odoo>
